# -*- coding: utf-8 -*-
from plugins import pluginimport globalvimport urllib2, redict={}page=urllib2.urlopen("http://draconic.twilightrealm.com/vocabulary.php").read()page=page.split("<table")[1]page=page.split("</table>")[0]page=page.split("<tr>")[2:]for word in page:	word=word.split("<td>")	dict.update({word[1][:-16].replace(' ','-'):word[2][:-16].replace(' ','-')})class pluginClass(plugin):	def gettype(self):		return "command"	def action(self, complete):		print complete		msg=complete.message()		page=""		translated=""		punctuation=re.split("[a-zA-Z']",msg)		marks=[]		for mark in punctuation:			if mark!="":				marks.append(mark)		i=0		for word in msg.split():			word=re.sub("[^a-zA-Z']","",word)			if word.lower() in dict:				toAdd=dict[word.lower()]				if word[0].isupper():					toAdd=toAdd.capitalize()				translated+=toAdd				if i<len(marks):					translated+=marks[i]				else:					translated+=" "			else:				translated+=word				if i<len(marks):					translated+=marks[i]				else:					translated+=" "			i+=1		if complete.user()!="Silver_Skree":			return ["PRIVMSG $C$ :"+translated]	def describe(self, complete):		msg=complete.message()		sender=complete[0].split(' ')		sender=sender[2]		return ["PRIVMSG $C$ :I am the !english2draconic module. I translate an english sentace into a draconic one.","PRIVMSG $C$ :Usage:","PRIVMSG $C$ :!english2draconic [input]"]