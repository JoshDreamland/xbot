# -*- coding: utf-8 -*-
from plugins import pluginimport globalvimport urllib2currencies={"QUID":"GBP","DOLLAR":"USD","DOLLARS":"USD","POUNDS":"GBP","POUND":"GBP","RUPEE":"INR","RUPEES":"INR"}class pluginClass(plugin):	def gettype(self):		return "command"	def action(self, complete):		msg=complete.message()		if len(msg.split())==3:			first=msg.split()[1].upper()			second=msg.split()[2].upper()			if first in currencies.keys():				first=currencies[first]			if second in currencies.keys():				second=currencies[second]			if first==second:				return ["PRIVMSG $C$ :Silly $U$ thinks that things can be converted to themselves. Look at silly $U$. Point and laugh."]			toConv=first+second			amount=float(msg.split()[0])		elif len(msg.split())==2:			first=msg.split()[0].upper()			second=msg.split()[1].upper()			toConv=first+second			amount=1		else:			return ["PRIVMSG $C$ :Jesus christ what is wrong with you. Get out."]		convert=float(urllib2.urlopen("http://download.finance.yahoo.com/d/quotes.csv?s="+toConv+"=X&f=sl1d1t1ba&e=.csv").read().split(',')[1])		return ["PRIVMSG $C$ :"+str(amount)+" "+first+" = "+str(round(amount*convert,2))+" "+second]	def describe(self, complete):		return ["PRIVMSG $C$ :I am the !convert module","PRIVMSG $C$ :Usage:","PRIVMSG $C$ :!convert [number] [from currency] [to currency]"]