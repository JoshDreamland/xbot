# -*- coding: utf-8 -*-
from plugins import pluginfrom settingsHandler import readSettingimport globalvclass pluginClass(plugin):	def __init_db_tables__(self,name):		import settingsHandler		settingsHandler.newTable(name, "filePath", "maxLen")		settingsHandler.writeSetting(name,["filePath","maxLen"],["fortune","300"])	def gettype(self):		return "command"	def action(self, complete):		msg=complete.message()		ret=[]		import os		msg=os.popen(readSetting(complete.cmd()[0],"filePath")).read().strip()		for line in msg.split('\n'):			ret.append("PRIVMSG $C$ :"+line)		print msg		if len(msg)>int(readSetting(complete.cmd()[0],"maxLen")):			msg=msg[:int(readSetting(complete.cmd()[0],"maxLen"))]		return ret	def describe(self, complete):		msg=complete.message()		sender=complete[0].split(' ')		sender=sender[2]		return ["PRIVMSG $C$ :I am the !say module","PRIVMSG $C$ :Usage:","PRIVMSG $C$ :!say [input]"]